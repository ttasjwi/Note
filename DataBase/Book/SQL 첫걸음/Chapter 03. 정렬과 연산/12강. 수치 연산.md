# <a href = "../README.md" target="_blank">SQL 첫걸음</a>
## Chapter 03. 정렬과 연산
### 12강. 수치 연산
1) 사칙 연산
2) SELECT 구로 연산하기 
3) 열의 별명(alias)
4) WHERE 구에서 연산하기
5) NULL 값의 연산
6) ORDER BY 구에서 연산하기
7) 함수
8) ROUND 함수
9) 그 외
---

# 12강. 수치 연산

---

## 1) 사칙 연산

### 사칙 연산자
- `+` : 덧셈
- `-` : 뺄셈
- `*` : 곱셈
- `/` : 나눗셈
- `%` : 나머지

### 연산자의 우선순위
- 우선순위
  - 1순위 : 곱셈(`*`), 나눗셈(`/`, 나머지(`%`) 연산
  - 2순위 : 덧셈(`+`), 뺄셈(`-`)
- 우선순위가 같다면 왼쪽에서 오른쪽으로 계산
  - 예) `1 - 2 + 3` : `1-2`를 계산후 `+3`을 계산
- 우선순위가 다르면 높은 것부터 계산
  - 예) `1+2*3` : `2*3`을 계산 후 `1+`를 계산

---

## 2) SELECT 구로 연산하기
> SELECT 식1, 식2 ... FROM 테이블명

```sql
SELECT 
       *, price * quantity 
FROM sample34;
```
- 식의 결과를 조회할 수 있음

---

## 3) 열의 별명(alias)
```sql
SELECT 
       *,
       price * quantity as amount
       -- price * quantity amount
FROM 
     sample34;
```
- as를 사용해 열에 별명을 지정할 수 있다.
- as를 생략할 수 있다.
- 이름을 명명할 때, 더블쿼트로 감싸면 데이터베이스 객체 이름으로 간주한다.
  - cf) 싱글쿼트로 감싼 것은 문자열 상수다. 

### 명명 규칙
- 예약어를 쓸 수 없다.
  - 예) `as SELECT`, ...
  - 하지만 덥블쿼트로 지정하면 사용할 수 있다.
    - 예) as "SELECT"
- 숫자로 시작할 수 없다.
  - MySQL에서는 가능하긴한데 데이터베이스 표준이 아니다. 이 경우 숫자만으로 포함된 경우도 허용되지 않는다.
- alias에 ascii 이외의 문자를 포함할 경우 `""`(더블쿼트)로 둘러싸서 지정해야 한다.
  - 예) ascii 이외의 문자 포함시
    ```sql
    SELECT price * qunatity "금액" 
    ```

---

## 4) WHERE 구에서 연산하기
```sql
SELECT 
       *, 
       amount 
FROM 
     sample34
WHERE 
      (price * quantity) as amount >= 2000;
```

### Where 구와 SELECT 구의 내부 처리 순서
- 표준 SQL에서는 내부처리 순서가 정해져 있지 아니함.
- 하지만 `WHERE` -> `SELECT` 구의 순서로 처리하는 DB가 많다.
- 위 방식대로면 SELECT 구에서 지정된 별명은 WHERE 구 안에서 사용할 수 없다.

---

## 5) NULL 값의 연산
NULL값을 이용해 연산을 하면 그 결과값은 NULL이다.
- 예1) NULL + 1 -> NULL
- 예2) 1 + NULL -> NULL
- 예3) 1+ 2 * NULL -> NULL
- 예4) 1 / NULL -> NULL
---  

## 6) ORDER BY 구에서 연산하기
```mysql
SELECT
       *,
       (price * quantity) as amount
FROM sample34
ORDER BY (price * quantity) desc;
```
- ORDER BY에서 연산을 정의하고 이를 기준으로 정렬할 수도 있다.

### Where 구와 SELECT 구, ORDER BY 구의 내부 처리 순서
- 표준 SQL에서는 내부처리 순서가 정해져 있지 아니함.
- 하지만 `WHERE` -> `SELECT` -> `ORDER BY` 구의 순서로 처리하는 DB가 많다.
- 별칭을 줘야할 경우 우선순위가 앞서는 곳에서 먼저 지정하는 것이 좋다.

---

## 7) 함수
> 함수(인수1, 인수2, ...)

- 대부분의 함수는 1개 이상의 인수를 가진다.
- 함수는 그 각기 나름대로 결과값을 반환한다.

---

## 8) ROUND 함수
> ROUND (인수, 소숫점 자리수(k))

지정 소숫점 자리수를 k라고 할 때 소숫점 k번째 자리, 즉 (10^(-k)) 자리로 반올림하는 함수이다.
- 예) ROUND (5961.60, x)
  - `x = 0`
    - 소숫점 0째자리까지 반올림
    - 10^0 = 1의 자리까지 반올림
    - 결과 : 5962
  - `x = 1`
    - 소숫점 1째자리까지 반올림
    - 10^-1 = 0.1의 자리까지 반올림
    - 결과 : 5961.6
  - `x = -2`
    - 소숫점 -2째자리까지 반올림
    - 10^2 = 100의 자리까지 반올림
    - 결과 : 6000

---

## 9) 그 외
- 삼각함수 : SIN, COS, ...
- 제곱근 : SQRT, ...
- 로그 : LOG, ...

---
