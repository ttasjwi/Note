# <a href = "../README.md" target="_blank">따라하며 배우는 AWS 네트워크 입문</a>
## Chapter 02. VPC 기초
### 2.2 기본 네트워크 개념 이해
1) OSI 7 레이어 모델
2) IP와 서브넷 마스크
3) TCP, UDP 그리고 포트 번호
4) DHCP
5) DNS
6) 라우팅(Routing)

---

# 2.2 기본 네트워크 개념 이해

---

## 1) OSI 7 레이어 모델

### 1.1 OSI 7 레이어 모델 개념
- 국제 표준화 기구(ISO)에서 개발한 모델
- 네트워크 동작 과정을 7개 계층으로 나누어, 컴퓨터 네트워크 프로토콜 디자인, 통신을 계층을 나누어 설명 
- 상위 계층이 하위 계층 기능을 이용하고, 하위 계층이 상위 계층으로 기능을 제공하는 상하관계
- TCP/IP 프로토콜 : 네트워크를 통해 통신하는데 쓰이는 통신 규약의 모음

### 1.2 OSI 7계층
- 1계층 : Physical 계층
  - 네트워크의 하드웨어 전송 기술
  - 물리적인 리으킈 연결, 유지, 해제 등을 담당
- 2계층 : Data Link 계층
  - Physical 계층에서 송수신되는 정보와 오류의 흐름을 관리하여 데이터의 전달을 수행
  - 1~2 계층을 통틀어 TCP/IP 프로토콜 상 Network Interface 계층으로 분류
  - Ethernet, Wi-Fi, 물리적인 케이블 등이 포함
- 3계층 : Network 계층
  - 데이터를 목적지까지 빠르고 안전하게 전달(라우팅)
  - 여러 노드를 거칠 때마다 최적의 경로를 찾아줌
  - TCP/IP 프로토콜 상 Internet 계층으로 분류
  - IP, ARP, ICMP 등의 프로토콜이 이에 해당
- 4계층 : Transport 계층
  - 종단의 사용자 간 데이터 통신을 다루는 최상위 계층
  - 데이터 전달의 유효성, 효율성을 보장
  - TCP/IP 프로토콜 상에서도 이를 Transport 계층으로 분류함
  - TCP, UDP 등 프로토콜이 이에 해당
- 5계층 : Session 계층
  - 종단의 사용자 간의 응용 프로세스 통신을 관리하기 위한 방법
  - 데이터의 통신을 위한 논리적인 연결
- 6계층 : Presentation 계층
  - 데이터의 형식상 차이에 대해 송/수신자간 이해할 수 있는 형태로 데이터를 표현
  - 데이터의 암호화, 압축 등을 수행
- 7계층 : Application 계층
  - 응옹 프로세스와 직접 연계하여 실제 응용 프로그램을 사용하게 하는 계층
  - 5~7계층을 통틀어 TCP/IP 프로토콜에서는 Application 계층으로 분류
  - HTTP, SSH, FTP, DHCP 등 프로토콜이 이에 해당

---

## 2) IP와 서브넷 마스크

### 2.1 IP(Internet Protocol)
- 인터넷 상의 네트워크 자원들을 구분하는 고유한 주소
- OSI 레이어에서의 3계층에 해당
- 버전에 따라 ipv4, ipv6로 구분할 수 있음
  - 이들은 구조적으로 다르고, 가용 주소 갯수도 큰 차이를 가진다.
  - ipv6가 가용 주소 갯수 등의 면에서 진보된 특성을 가지긴 하나 보통 ipv4가 많이 쓰임

### 2.2 퍼블릭 Ip
- 실제 인터넷 구간으로 통신하는 공공 네트워크 주소
- 통신 대상을 식별하기 위해 ISP에서 제공하는 주소
- 전세계의 인터넷에서 유일한 주소

### 2.3 프라이빗 Ip
- 일반 가정이나 회사 등의 독립된 네트워크에서 사용하는 내부 IP 주소
- 프라이빗 네트워크 관리자에 의해 할당되며, 독립된 네트워크 상에서 유일한 주소를 가짐
- 외부 인터넷 구간과 통신이 불가능
- 프라이빗 IP는 아래의 3가지 대역으로 고정되어 있다.
  - Class A : 10.0.0.0 ~ 10.255.255.255
  - Class B : 172.16.0.0 ~ 172.31.255.255
  - Class C : 192.168.0.0 ~ 192.168.255.255

### 2.4 서브넷
- 부분적인 네트워크
- 네트워크들은 여러 개의 부분적인 서브넷들로 나누어지고 연결되어있다.

### 2.5 서브넷 마스크
- IP 주소의 IP 주소에 해당하는 네트워크 IP, 호스트 ID를 구분하는 기준값
  - 네트워크 ID : 서브넷을 식별하는 영역
  - 호스트 ID : 서브넷에서 대상을 식별하는 영역
  - 즉, 네트워크 ID를 통해 서브넷을 구분하고, 같은 서브넷 내에서는 호스트 ID를 기준으로 구분한다.
- 2진 표기법, 10진 표기법
  - ipv4 기준 2진수 값이 1인 영역이 네트워크 ID, 0인 영역이 호스트 ID
  - 예) 11111111.11111111.111111111.00000000 : 앞의 24비트는 네트워크 영역, 뒤의 8비트는 호스트 영역 
  - 예) 255.255.255.0 : 앞의 24비트는 네트워크 영역, 뒤의 8비트는 호스트 영역
- IP CIDR(Classless Inter Domain Routing) 표기법
  - 프리픽스(/8, /16, /24)를 통해 네트워크 ID 영역을 구분
  - 예) 10.1.2.3/8 : 앞의 8비트는 1로 취급하여 네트워크 영역, 뒤의 24비트는 0으로 취급하여 호스트 영역
  - 예) 10.1.3.1/16 : 앞의 16비트는 1로 취급하여 네트워크 영역, 뒤의 16비트는 0으로 취급하여 호스트 영역
  
---

## 3) TCP, UDP 그리고 포트 번호

### 3.1 TCP와 UDP
- OSI 7계층 중, 4계층에 해당하는 전송(Transport) 프로토콜.
- 신뢰성 있는 전송 여부에 따라 차이를 두고 있음
- TCP
  - 종단간 연결을 맺고, 연결이 이루어지면 신뢰성 있는 전송을 보장하지만 UDP보다 상대적으로 느림
  - HTTP, SSH, FTP 등이 이에 해당 <- 연결성, 신뢰성이 필요
- UDP
  - 종단 간의 연결 없이 통신이 이루어지고, 신뢰성 있는 전송을 보장하지 못 함.
  - 하지만 연결, 제어를 위한 작업이 없기 때문에 TCP 프로토콜보다 빠르다.
  - DNS, DHCP 등이 이에 해당

### 3.2 포트 번호
- TCP, UDP 의 특징에 따라 제공되는 응용 프로그램 서비스들이 있는데 서비스를 구분할 때 포트 번호를 통해 구분
- IANA에서 TCP/UDP의 포트 번호 범위를 정의하고 있으며, 범위에 따라 크게 3가지로 구분할 수 있음
  - 잘 알려진 포트번호(Well-Known Port) : 0 ~ 1023
  - 등록된 포트번호(Registered Port) : 1024 ~ 49151
  - 동적 포트번호(Dynamic Port) : 49152 ~ 65535
  - 예) TCP의 80은 HTTP, UDP의 53은 DNS 로 예약 

---

## 4) DHCP
Dynamic Host Configuration Protocol

### 4.1 DHCP 개념
- 동적으로 IPv4 주소를 일정 기간 임대를 하는 프로토콜
- UDP 프로토콜을 사용
- 포트번호 67, 68을 사용하여 동작
- 네트워크상 호스트가 IPv4 주소를 할당할 때 수동으로 지정할 수도 있고, DHCP를 통해 자동으로 지정할 수도 있다.
- IP 주소를 임대하는 개념하에, 임대 시간이 존재
- 임대 시간이 만료되면 반환하거나 갱신을 수행

### 4.2 DHCP 절차
- DHCP Discover
- DHCP Offer
- DHCP Request
- DHCP Ack

---

## 5) DNS
Domain Name System

### 5.1 도메인 네임
- 도메인 네임 : IP 주소의 복잡한 주소 체계를 해소하기 위한 문자 형태로 구성된 이름
- 예) google.com

### 5.2 DNS
- 도메인 네임을 제공하기 위한 기술
- 도메인 네임과 IP 주소를 매핑해줌
- UDP 프로토콜 53번 포트를 사용

---

## 6) 라우팅(Routing)

### 6.1 라우팅
- 네트워크 통신을 수행할 떄 거쳐가는 경로를 잡아주는 기능
- OSI 7 Layer에서 3계층 Network 계층의 핵심적인 기능
- 네트워크는 여러 개의 서브넷으로 이루어져 있는데, 복잡하게 연결된 네트워크 망에서 최적의 경로를 잡아 통신해주는 기능

### 6.2 라우터, 라우팅 테이블

- 라우터 : 라우팅을 수행하는 장비
- 라우터는 라우팅 테이블을 통해, 경로를 파악하고 원하는 목적지 대상으로 데이터를 전달한다.

--
