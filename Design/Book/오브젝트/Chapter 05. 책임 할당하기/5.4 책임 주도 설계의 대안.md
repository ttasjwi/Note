# <a href = "../README.md" target="_blank">오브젝트</a>
## Chapter 05. 책임 할당하기
### 5.4 책임 주도 설계의 대안
1) 리팩터링 : 책임 주도 설계의 대안
2) 메서드 분리 : 작고 목적이 명확한 메서드들로 분리하여, 응집도를 높이자
3) 메서드 이동 : 객체를 자율적으로 만들자

---

# 5.4 책임 주도 설계의 대안

---

## 1) 리팩터링 : 책임 주도 설계의 대안

### 1.1 책임 주도 설계의 높은 학습 곡선
- 책임 주도 설계에 익숙해지기 위해서는 많은 노력과 시간이 필요함
- 경험을 쌓은 숙련된 설계자조차도, 적절한 책임 및 객체를 선택하는 일에 어려움을 느끼곤 함

### 1.2 일단 빠르게 코드 작성하고 책임을 분배하기
- 일단 최대한 빠르게 목적한 기능을 수행하는 코드를 작성한다.
- 아무 것도 없는 상태에서 책임과 협력에 관해 고민하기 보다, 일단 실행되는 코드를 얻고 난 후에 코드상에 명확히 드러나는 책임을 올바른 위치로
이동시킨다.
- 주로 객체 지향 설계에 대한 경험이 부족한 단계, 또는 설계의 실마리가 풀리지 않을 때 이 방식을 사용하면 훌륭한 설계를 얻게 되는 경우가 많다.

### 1.3 리팩터링(refactoring)
- 이해하기 쉽고 수정하기 쉬운 소프트웨어로 개선하기 위해 겉으로 보이는 동작은 바꾸지 않은 채 내부 구조를 변경하는 것
- 데이터 중심으로 설계를 구현하고 이를 리팩터링하더라도 책임 주도 설계와 유사한 결과를 얻을 수 있다.
- 때때로는 처음부터 책임주도 설계 방법을 따르는 것보다 동작하는 코드를 작성한 후에 리팩터링하는 것이 더 훌륭한 결과물을 낳을 수 있다.

---

## 2) 메서드 분리 : 작고 목적이 명확한 메서드들로 분리하여, 응집도를 높이자

### 2.1 긴 메서드의 문제점
긴 메서드는 다양한 측면에서 코드의 유지보수에 부정적인 영향을 미친다.

- 어떤 일을 수행하는 지 한 눈에 파악하기 어렵기 때문에 코드를 전체적으로 이해하는 데 너무 많은 시간이 걸린다.
- 하나의 메서드 안에서 너무 많은 작업을 처리하기 때문에 변경이 필요할 때 수정해야 할 부분을 찾기 어렵다.
- 메서드 내부의 일부 로직만 수정하더라도 메서드의 나머지 부분에서 버그가 발생할 확률이 높다.
- 로직의 일부만 재사용하는 것이 불가능하다.
- 코드를 재사용하는 유일한 방법은 원하는 코드를 복사해서 붙여넣는 것뿐이므로 코드 중복을 초래하기 쉽다.

즉, 긴 메서드는 응집도가 낮기 때문에 이해하기도 어렵고 재사용하기 어려우며 변경하기도 어렵다.


### 2.2 메서드 분리
> 긴 메서드를 이해하기 어렵기 때문에 주로 많이 사용하는 방법은 '주석'이다.  
하지만 메서드가 어떤 명령들로 구성되고, 각 그룹에 주석을 달 필요가 있다면 그 메서드의 응집도는 낮은 것이다.  
- **주석을 추가하는 대신 메서드를 작게 분해해서 각 메서드의 응집도를 높여야 한다.**
  - 응집도가 높은 메서드는 변경하는 이유가 단 하나여야한다.
- 클래스가 작고, 목적이 명확한 메서드로 구성돼 있다면
  - 변경을 처리하기 위해 어떤 메서드를 수정해야 하는 지를 쉽게 판단할 수 있다.
  - 메서드의 크기가 작고 목적이 분명하기 때문에 재사용하기도 쉽다.
  - 주석들을 나열한 것처럼 보이기 때문에 코드를 이해하기 쉽다.
- 클래스의 길이가 길어지더라도, 명확성의 가치가 클래스의 길이보다 중요하다. 조그마한 부분에서 개선한 명확성이 모여 더 변경하기 쉬운 코드가
만들어진다.

### 2.3 메서드의 길이보다, 이해하기 쉽고 명확한 역할을 드러내는 이름을 짓는 것이 중요
- 짧고 이해하기 쉬운 이름으로 된 메서드를 분리
- 여기서 중요점을 둬야하는건 '짧은'쪽 보다, '이해하기 쉬운 이름으로 된'이 중요
- 중요한 것은 메서드의 이름과, 메서드의 몸체의 의미적 차이가 크지 않고 응집도가 높도록 하는 것이다.
- 극단적으로, 만약 메서드를 분리한 결과, 코드를 명확하게 한다면 메서드의 이름이 원래 코드의 길이보다 길어져도 뽑아내라고 하는 말도 있다. 

---

## 3) 메서드 이동 : 객체를 자율적으로 만들자

### 3.1 소유한 데이터를 자기 스스로 처리하도록 만들기
- 객체는 자율적인 존재이고 소유한 데이터를 자기 스스로 처리하도록 만드는 것이 자율적인 객체를 만드는 지름길이다.
- 메서드가 사용하는 데이터를 저장하고 있는 클래스로 메서드를 이동시킨다.
  - 보통, 메서드의 인자에 정의된 클래스 중 하나로 이동하는 것이 일반적이다.

### 3.2 접근자(getter)를 사용하는 코드들
- 일반적으로 어떤 데이터를 사용하는 지를 가장 쉽게 알 수 있는 방법은 메서드에서 어떤 클래스의 접근자(getter)를 사용하는 지 파악하는 것이다. 
- getter를 통해 데이터를 가져와서 사용하는 메서드를, 데이터를 가진 클래스로 이동시키면 캡슐화와 높은 응집도, 낮은 결합도를 가지는 설계를
얻게 된다.

---
