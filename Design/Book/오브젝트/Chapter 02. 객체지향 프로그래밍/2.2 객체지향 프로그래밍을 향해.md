# <a href = "../README.md" target="_blank">오브젝트</a>
## Chapter 02. 객체지향 프로그래밍
### 2.2 객체지향 프로그래밍을 향해
1) 협력, 객체, 클래스
2) 도메인 주도 개발 : 도메인의 구조를 따르는 프로그램 구조
3) 클래스를 구현하는 법 : 캡슐화/접근제어를 통한 퍼블릭 인터페이스/구현 분리
4) 밸류 타입 : 도메인의 의미를 가진 객체 타입을 정의
5) 협력, 메시지, 메서드

---

# 2.2 객체지향 프로그래밍을 향해

---

## 1) 협력, 객체, 클래스

### 1.1 객체, 클래스
- 객체 : 상태와 행동을 가지며, 시스템의 목적을 위해 다른 객체와 협력하고 스스로 자기 자신을 책임질 수 있는 존재.
- 클래스 : 상태와 행동을 공유하는 객체들을 추상화한 것

### 1.2 어떤 객체들이 필요한 지 고민할 것
- 객체지향은 '객체'를 지향하는 것이지, 클래스를 지향하는 것과는 거리가 멀다.
- 진정한 객체지향 패러다임으로의 전환은 '객체'에 초점을 맞출 때에만 얻을 수 있다.
- 어떤 클래스가 필요한 지 고민하기 전에 어떤 객체들이 필요한 지 고민하라.
- 객체의 모양과 윤곽이 잡히면 공통된 특성과 상태를 가진 객체들을 타입으로 분류하고 이 타입을 기반으로 클래스를 구현하라.

### 1.3 협력 : 객체를 독립적인 존재로 보지 말고, 기능을 구현하기 위해 협력하는 공동체의 일원으로 볼 것
- 객체는 고립된 독립적인 존재가 아닌, 협력에 참여하는 협력자로 바라보라.
- 협력하는 공동체의 일원으로 보는 것은 설계를 유연하고 확장 가능하게 만든다.
- 훌륭한 협력이 훌륭한 객체를 낳고, 훌륭한 객체가 훌륭한 클래스를 낳는다.

---

## 2) 도메인 주도 개발 : 도메인의 구조를 따르는 프로그램 구조

### 2.1 도메인
사용자의 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야

### 2.2 객체지향 패러다임의 편리성
- 요구사항 분석 ~ 프로그램 구현 단계까지 '객체'라는 동일한 추상화 기법을 사용할 수 있음
- 도메인 모델을 기반으로 객체, 클래스를 매끄럽게 설계할 수 있음

### 2.3 도메인 주도 개발 방식에서 프로그램을 작성하는 방법
- 클래스의 이름 : 대응되는 도메인 개념의 이름과 동일하거나 유사하게 이름을 지어야함
- 클래스 간의 관계 : 도메인 개념과 유사하게 만들어서 프로그램의 구조를 이해하고 예상하기 쉽게 만들어야 함
- 도메인 개념과 관계를 반영하도록 프로그램을 구조화해야하기 때문에 클래스의 구조는 도메인의 구조와 유사한 형태를
띠어야 한다.

---

## 3) 클래스를 구현하는 법 : 캡슐화/접근제어를 통한 퍼블릭 인터페이스/구현 분리

### 3.1 공개할 부분과 감출 부분 결정
- 훌륭한 클래스를 설계하기 위한 핵심은, 어떤 부분을 외부에 공개하고 어떤 부분을 감출지 결정하는 것이다.
- 경계의 명확성이 객체의 자율성을 보장한다.
- 프로그래머에게 구현의 자유를 제공한다.

### 3.2 자율적인 객체 : 캡슐화와 접근제어
- 캡슐화 : 데이터와 기능을 객체 내부로 함께 묶는 것
- 접근 제어 : 외부에서의 접근을 통제할 수 있는 메커니즘.
  - 접근 제어자(public, private, protected, ...)
- 객체지향의 핵심은 스스로의 상태를 관리하고(숨기고), 판단하고, 행동하는 자율적인 객체들의 공동체를 구성하는 것.
외부의 간섭을 최소화해야하고, 외부에서는 객체가 어떤 상태에 놓여 있는 지, 어떤 생각을 하고 있는 지 알아서는 안 되며
결정에 직접적으로 개입하려고 해서도 안 된다.

### 3.3 인터페이스와 구현의 분리 원칙
- 캡슐화, 접근제어를 통해 퍼블릭 인터페이스와 구현을 분리해야한다.
  - 퍼블릭 인터페이스 : 외부에서 접근 가능한 부분
  - 구현 : 외부에서 접근 불가능하고 오직 내부에서만 접근 가능한 부분
- 훌륭한 객체지향 프로그램을 만들기 위해 따라야 하는 핵심 원칙

### 3.4 인터페이스, 구현을 분리함으로서 프로그래머의 자유를 보장할 수 있다.
- 클래스 작성자 : 접근 제어 -> 인터페이스와 구현 분리를 통한 구현 은닉 -> 내부 구현을 수정할 자유를 얻고, 변경의 파급효과 범위 제어
- 클라이언트 프로그래머 : 내부 구현을 무시한 채 인터페이스만 알고 있어도 클래스를 사용할 수 있기 때문에 머릿속에 담아둬야 하는 지식의
양을 줄일 수 있음.
- 객체의 내부와 외부를 구분하면 클라이언트 프로그래머가 알아야 할 지식의 양이 줄어들고 클래스 작성자가 자유롭게 구현을 변경할 수 있는
폭이 넓어진다.

---

## 4) 밸류 타입 : 도메인의 의미를 가진 객체 타입을 정의

### 4.1 자바 기본 타입, 내장 타입
- 변수의 크기, 연산자 종류, 기본 API와 관련된 구현 관점의 제약은 표현할 수 있다.
- 하지만 저장하는 데이터가 특정 도메인에 연관되어 있다는 의미를 전달할 수 없다.
- 또, 관련 로직이 서로 다른 곳에 중복되어 구현되는 것을 막을 수 없다.

### 4.2 밸류 타입
- 도메인과 관련된 의미를 가진 객체
- 단순한 값일지라도 협력이란 맥락에서 놓고보면 특정한 의미를 가질 가능성이 매우 크다.
- 밸류 타입을 정의해서 도메인의 의미를 좀 더 명시적이고 분명하게 표현할 수 있다.
  - 예) 비용을 Long 타입으로 쓰지 않고 돈의 의미를 가진 Money 타입으로 감싸서 표현
- 기본 타입으로 사용하기 힘들었던 특화 기능을 사용할 수 있다.
  - 예) 금액 추가, 차감, ...
- 하나의 인스턴스 변수만 포함하고 있더라도 개념을 명시적으로 표현할 수 있다면 밸류 타입을 따로 정의해서 쓰는 것이 좋다.
- 밸류 타입와 같이 도메인의 의미를 풍부하게 표현할 수 있는 별도의 객체를 따로 정의하는 것은 전체적인 설계의 명확성과 유연성을 높이는
첫걸음이다.

### 4.3 밸류타입 취급 시 주의점
- 밸류 객체를 변경할 때 생기는 사이드 이펙트를 방지하기 위해서, 밸류 객체는 불변객체로 만들어야한다.
- 밸류 객체를 변경하려고 한다면 기존 데이터를 변경하지 않고, 변경한 데이터를 갖는 새로운 객체를 생성하도록 한다.
- 객체를 참조하고 있는 다른 객체에도 사이드 이펙트를 발생시킬 수 있기 때문이다.

---

## 5) 협력, 메시지, 메서드

### 5.1 협력(Collaboration)
- 시스템의 어떤 기능을 구현하기 위애 객체들 사이에 이뤄지는 상호작용
- 객체지향 프로그램을 작성할 때는 먼저 협력의 관점에서 어떤 객체가 필요한 지 결정하고, 객체들의 공통 상태와 행위를 구현하기 위해 클래스를
작성해야 한다.

### 5.2 메시지, 메서드
객체의 협력은 메시지 전송에서 시작되고, 이를 수신받은 객체가 메서드를 통해 처리함으로서 이루어진다.

- 메시지 전송 : 객체가 다른 객체에 요청
- 메시지 수신 : 요청 도착
- 메서드 : 객체가 수신된 메시지를 처리하기 위한 자신만의 방법. 객체가 메시지를 처리하는 방법을 결정하는건 자신 스스로의 문제이다.

### 5.3 다형성 : 메시지와 메서드의 구분
- 메시지와 메서드를 명확히 구분하는 것에서 '다형성' 개념이 출발한다.
- 예) Screening은 Movie에게 'calculateMovieFee' 메시지를 전송한다. Screening은 Movie가 calculateMovieFee 메시지에 응답할 수
있다고 믿고 메시지를 전송할 뿐이다. Movie 안에 calculateFee 메서드가 존재하는 지 여부 조자 알지 못 한다.

---
