# <a href = "../README.md" target="_blank">Chapter 13. 스레드</a>
## 3. 싱글스레드와 멀티스레드
### 3.1 싱글스레드와 멀티스레드
1) 싱글스레드 vs 멀티스레드
2) 컨텍스트 스위칭(Context Switching)
3) 싱글코어 vs 멀티코어
4) 병렬, 병행
5) 데드락(DeadLock)
6) I/O 블락킹

---

# 3.1 싱글스레드와 멀티스레드

단일 작업 혹은 복수 작업을 싱글 스레드와 멀티스레드로 처리할 때, 어느 방식으로 처리하는 것이 더 효율적인지 생각해볼 여지가 있다.

## 1) 싱글스레드 vs 멀티스레드

작업 A, B를 수행할 때
1. 싱글스레드에서 두 작업을 모두 수행할 경우 : A 작업을 마치고 B 작업을 수행
2. 멀티스레드에서 두 작업을 나눠 수행할 경우 : 각 스레드 간에 작업을 번갈아가면서 수행.


컨텍스트 스위칭으로 인한 시간 지연, 데드락 등을 고려해서 CPU 자원분배를 설계해야함.

---

## 2) 컨텍스트 스위칭(Context Switching)
프로세스, 또는 스레드간 작업 전환. 일반적으로 멀티스레드로 작업을 수행할 경우 컨텍스트 스위칭으로 인해 싱글스레드로 작업할 때보다 더 시간이 소요된다.
  - 전환 직전 : 작업 과정을 메모리의 PCB(Process Control Block)에 저장
  - 전환 후 : 이전 작업과정을 PCB에서 로딩

---


## 3) 싱글코어 vs 멀티코어
코어는 CPU의 물리적인 연산 회로의 개수(? 잘못됐을 수 있습니다... 혹시 제대로 아시는 분 있으면 제보 부탁드립니다.)
- 싱글코어 : 동시에 수행할 수 있는 작업의 갯수가 하나.
- 멀티코어 : 코어의 갯수만큼 여러 작업을 동시에 수행할 수 있음.

---

## 4) 병렬, 병행

1. 병렬(parallel) : 하나의 작업을 여러 스레드가 나눠서 처리하는 것
   - 동일한 자원을 사용할 경우, DeadLock으로 인한 시간 지연이 발생할 수 있으니 싱글스레드로 작업하는게 더 나을 수 있음을 고려해야한다.
2. 병행(concurrent) : 여러 작업을 여러 스레드가 동시에 진행하는 것
   - 서로 다른 자원을 사용할 경우, 병행처리를 하여, 작업을 수행하는 것이 싱글스레드로 작업할 때보다 더 효율적일 수 있다.
     - 에> 사용자로부터 데이터를 입력받는 작업(Input), 네트워크로 파일을 주고받는 작업, 외부 기기와의 입출력(프린터, 스캐너, ...), ...


---

## 5) 데드락(DeadLock)
동일한 자원을 사용해야하는 상황에서, 각 스레드들이 점유한 자원을 사용하려고 기다리느라 작업 진행이 멈춘 상태.

---

## 6) I/O 블락킹
스레드가 I/O 처리를 위해 기다리는 상황.  
사용자로부터 입력는 상황동안 무언가를 출력해야하는 상황이 있다면 이들은 서로 다른 자원을 사용하는 상황이므로 두 스레드를 나눠서 병행처리를 하는 것이 더 효율적이다.

---