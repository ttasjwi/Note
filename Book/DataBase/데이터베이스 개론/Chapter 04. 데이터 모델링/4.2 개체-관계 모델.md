
# <a href = "../README.md" target="_blank">데이터베이스 개론</a>
## Chapter 04. 데이터 모델링
### 4.2 개체-관계 모델
1) 개체(Entity)
2) 속성(Attribute)
3) 관계(Relationship)
4) 관계의 유형
5) 관계의 참여 특성
6) 관계의 종속성
7) E-R 다이어그램

---

# 4.2 개체-관계 모델

- 개체(entity)와 개체 간의 관계를 이용해, 현실 세계를 개념적 구조로 표현하는 방법(개념적 데이터 모델)
- E-R 다이어 그램 : 현실세계를 개체-관계 모델을 이용해 개념적으로 모델링하여, 그림으로 표현한 것.


---

## 1) 개체(Entity)
1. 개체(Entity, 엔티티)
   - 저장할 만한 가치가 있는 중요 데이터를 가지고 있는 사람이나 사물, 혹은 추상적 개념이나 사건.
   - 조직을 운영하는 데 꼭 필요한 사람, 사물과 같이 구별되는 모든 것.
     - 물리적으로 존재하는 것
     - 개념적으로만 존재하는 것
   - 각각의 개체는 다른 개체들과 구별되는 이름을 가지고 있고, 고유한 속성(개체의 특성이나 상태)을 하나 이상 가지고 있다.


2. 개체 타입(Entity Type)
   - 개체를 고유한 이름과 속성들로 정의한 것
   - 예> 
     - 고객(이름, 주소, 연락처, 적립금)
       - 개체명 : 고객
       - 개체속성 : 이름, 주소, 연락처, 적립금

3. 개체 인스턴스(Entity Instance)
   - 개체타입이 실제 값을 가짐으로써 실체화된 개체
   - 개체 타입 여러개 존재할 수 있음.
   - 예>
     - {땃쥐, 깊은 산속, 010-0000-0000, 39800}


4. 개체 집합(Entity Set)
   - 특정 개체 타입에 대한 개체 인스턴스들을 모아 놓은 것.
   - 데이터베이스에서 실제로 저장하고 관리하는 것.


5. 파일 구조에서
   - 개체 : 레코드(Record)
   - 속성 : 필드(Field)
   - 개체 타입 : 레코드 타입(Record Type)
   - 개체 인스턴스 : 레코드 인스턴스(Record Instance)

6. E-R 다이어그램에서
   - 개체를 사각형으로 표현하고, 사각형 안에 개체의 이름을 표기

---

# 2) 속성(Attribute)
- 개체가 가지고 있는 고유의 특성
- 속성 그 자체만으로는 의미가 없지만, 속성을 모아 개체를 구성하면 하나의 중요한 의미를 표현할 수 있음.
- 일반적으로, 의미 있는 데이터의 가장 작은 논리적 단위로 인식됨.
- 속성의 분류 기준 : 속성 값의 갯수, 의미의 분해 가능성, 기존 속성 값에서 유도

1. 속성 값의 개수
   - 단일값 속성 : 개체를 구성하는 속성의 값이 하나일 때
     - 예) id, 이름, 적립금, ...
   - 다중값 속성 : 속성이 여러 값을 가질 수 있을 때
     - 예) 연락처 - 집 전화번호, 휴대폰 번호
   - E-R 다이어 그램에서 : 단일값 속성은 타원 한 개, 다중값 속성은 이중 타원으로 표현


2. 의미의 분해 가능성
   1. 단순 속성
      - 더 이상 분해할 수 없는 속성
      - 더는 의미가 분해되지 않기 때문에, 단순 속성값은 의미가 하나뿐이다.
      - 예) 적립금, 개체의 이름, 책 개체의 ISBN, 가격, ...
   
   2. 복합 속성
      - 의미를 분해할 수 있어, 값이 여러 개의 의미를 포함하는 속성
      - 예) 고객 개체의 생년월일(년,월,일), 주소 속성(도,시,동,우편번호), ...
      
   3. E-R 다이어그램에서
      - 속성을 나타낸 타원에서 트리 형태로, 분해된 속성을 각각 분해해 표현

3. 기존 속성값에서 유도 여부
   1. 저장 속성
      - 실제로 값을 저장하고 있는 속성
   2. 유도 속성
      - 값이 별도로 저장되는 것이 아니라, 기존의 다른 속성 값(저장 속성값)에서 유도되어 결정되는 속성
      - 필요할 때마다, 저장 속성값으로부터 계산을 통해 유도되므로 따로 저장할 필요가 없음. 
      - 예) 나이 : 출생 년도로부터 연산을 통해 유도할 수 있음.
   3. E-R 다이어 그램에서
      - 유도속성은 점선 타원으로 표현됨

4. null 속성
   1. null 값
      - 아직 결정되지 않았거나 모르는 값, 또는 존재하지 않는 값
      - 공백, 0과 다름
   
   2. null 속성(null attribute)
      - null값이 허용되는 속성
      - 해당 속성이 결정되지 않았거나(예: 미기입), 결정할 수 없는 속성(예: 여성-병역)을 의미.

5. key 속성(key attribute, key)
   - 모든 개체 인스턴스 각각을 식별하는데 사용하는 속성
   - 각 인스턴스마다 다른 고유한 속성
   - 개체타입을 정의할 때, 개체마다 다른 키 속성을 부여하여, 키 속성값을 통해 각각의 개체 인스턴스를 식별할 수 있도록 해야함.

---

## 3) 관계(Relationship)
1. 관계
   - 개체와 개체가 맺고 있는 의미 있는 연관성
   - 개체 집합들 사이의 대응 관계, 즉 mapping을 의미
   - 업무처리에 대한 요구 사항을 개체들을 이용해 하나의 문장으로 만들었을 때, 동사에 해당하는 것
      - 예) 고객은 책을 **구매**한다. - 구매
   - 관계를 통해서만 개체들 간의 연관성을 이용한 업무를 처리할 수 있다.
   
2. 관계 타입, 관계 인스턴스, 관계 속성
   - 관계 타입 : 개체 타입과 개체 타입 사이의 연관성, 관계 그 자체.
   - 관계 인스턴스 : 실제 개체 인스턴스와 개체 인스턴스 사이에 맺어진 실제 관계

3. 관계의 속성
   - 관계도 개체처럼 속성을 가질 수 있음.
   - 관계를 맺음으로서 발생하는 중요한 데이터들이 관계의 속성이 됨.

4. E-R 다이어그램에서 : 마름모로 표현

---

## 4) 관계의 유형
1. 관계의 분류 기준
   1. 관계에 참여하는 개체 타입의 수를 기준으로 한 분류
      - 이항관계(개체 타입 두개), 삼항관계(개체 타입 세개), 순한관계(개체타입 하나가 자기 자신과 맺는 관계), ...
   2. 매핑 원소의 수를 기준으로 한 분류
      - 매핑 카디널리티(mapping cardinality) : 두 개체 집합에서, 각 개체 인스턴스가  연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수
      - 매핑 카디널리티를 기준으로, 개체 집합의 관계를 일대일, 일대다, 다대다 유형으로 분류할 수 있음.


2. 일대일(1:1) 관계
   - 개체 A의 개체 인스턴스와, 개체 B의 개체 인스턴스가 각각 하나씩 관계를 맺을 수 있는 관계
   - 어느 쪽이든 다른 쪽 개체의 인스턴스 한 개씩만 관계를 맺을 수 있는 관계


3. 일대다(1:n) 관계
   - 개체 A, 개체 B가 있을 때, 각 개체 인스턴스의 관계가 다음과 같을 경우 일대다 관계라고 한다.
     - 개체 A의 인스턴스는 개체 B의 인스턴스 여러 개와 관계를 맺을 수 있음.
     - 개체 B의 인스턴스는 개체 A의 인스턴스 하나와만 관계를 맺을 수 있음.
   - 예) 부서 - 사원 : 한 부서에는 여러 사원이 관계를 맺을 수 있지만, 각 사원은 한 부서와만 관계를 맺을 수 있음.


4. 다대다(m:n) 관계
   - 개체 A, 개체 B가 있을 때, 각 개체 인스턴스의 관계가 다음과 같을 경우 다대다 관계라고 한다.
     - 개체 A의 인스턴스는 개체 B의 인스턴스 여러개와 관계를 맺을 수 있음.
     - 개체 B의 인스턴스 역시 개체 B의 인스턴스 여러개와 관계를 맺을 수 있음.
   - 예) 고객-상품
     - 한 고객은 여러 상품 인스턴스를 구매할 수 있고, 상품 인스턴스는 여러 고객이 구매할 수 있음.
     - 고객 인스턴스는 상품 인스턴스 여러개와 관계를 맺을 수 있고, 상품 인스턴스 역시 고객 인스턴스 여러개와 관계를 맺을 수 있다.


---

## 5) 관계의 참여 특성
- 필수적 참여(전체참여)
- 선택적 참여(부분참여)


---

## 6) 관계의 종속성


---

## 7) E-R 다이어그램

- 개체-관계 모델을 이용해 현실 세계를 개념적으로 모델링한 결과물을 그림으로 표현한 것
- 개체(Entity) : 사각형
- 관계(Relaationship) : 마름모
- 속성(Attribute) : 타원
- 각 요소의 연결 : 링크(연결선)
  - 일대일, 일대다, 다대다 관계를 레이블로 표기

---