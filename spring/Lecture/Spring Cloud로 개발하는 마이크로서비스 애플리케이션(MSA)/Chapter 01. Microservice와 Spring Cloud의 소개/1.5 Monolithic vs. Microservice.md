# <a href = "../README.md" target="_blank">Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA)</a>
## Chapter 01. Microservice와 Spring Cloud의 소개
### 1.5 Monolithic vs. Microservice
1) Monolithic Architecture
2) Microservice Architecture

---

# 1.5 Monolithic vs. Microservice

---

## 1) Monolithic Architecture
![monolithic](img/monolithic.jpg)

- 모든 비즈니스 로직이 하나의 애플리케이션 형태로 패키지 되어 서비스
- 애플리케이션에서 사용하는 데이터가, 한 곳에 모여 참조되어 서비스되는 형태
- 문제점
  - 시스템의 일부 서비스만 수정하더라도 전체 애플리케이션을 다시 빌드/테스트/패키징 해야함
  - 일부 기능 하나만 수정하더라도, 연관 없는 다른 기능들을 갖고 있는 애플리케이션 전체가 다시 업데이트됨.
  - 특정 기능에서 장애가 발생하면 애플리케이션 전체에가 죽게 되는 상황도 발생함.

## 2) Microservice Architecture
![microservice](img/microservice.png)

### 2.1 정의
- 함께 작동하는 작은 규모의 서비스들
- 작은 기능들별로 서비스를 분리하고, 잘게 쪼개진 각각의 작은 덩어리의 서비스들의 묶음
- 각각의 서비스들은 비즈니스 기능을 중심으로 분리, 구축되고 완전히 자동화된 배포 시스템을 가지고 있어야한다.(CI/CD)
- 일부 기능에 문제가 발생하더라도 전체 기능에 큰 영향을 끼치지 않음.

### 2.2 기능별로 그 기능에 최적화된 언어/데이터 저장 기술을 선택하여 개발 가능

- 각각의 서비스들은 최소한의 중앙 집중식 관리가 되어야하고,
각각의 서비스들은 서로 다른 프로그래밍 언어, 데이터 저장 기술을 적용할 수 있다.
즉 각각의 기능별로 최적화된 방식을 고려하여 그에 맞는 언어/데이터 저장소를 선택하여 적용할 수 있다.
  - C/C++ : 하드웨어 제어
  - Java : Server Side 개발
  - Python : 데이터 분석, 머신러닝
  - Node.js : 서버사이드 자바 스크립트, 비동기 제어
- 각각의 서비스는 자신이 제공할 데이터를 API의 형태로 제공하기만 하면 되고, 굳이 통일된 언어를 사용할 필요가 없다.

### 2.3 Monolithic -> Front & Back -> MicroServices 
![monolith-frontback-microservices](img/monolith-frontback-microservices.png)

- 전통적인 Monolithic 방식에서는 Front-Back을 하나의 애플리케이션에서 모두 처리해야했다.
이 당시에는 특정 웹 브라우저 또는 몇 몇 웹 애플리케이션을 작성하는 것에만 집중했다.
- 이후에 Front-Back 으로 이분화하여, 화면 렌더링에 대한 부분은 Front에서 책임지고, 거대한 백엔드에서
모든 비즈니스로직을 수행하고 API를 프론트엔드에 제공하는 방식을 사용했다. 여러가지 종류의 디바이스에서 API를
가져와 사용하는 형태로 웹 애플리케이션을 개발할 수 있게 됐다. 백엔드에서는 순전히 비즈니스 로직과 API에만
초점을 맞추면 된다.
- 이후 마이크로서비스 아키텍처를 적용하여, 각각의 기능단위로 서비스를 분리하는 형태로 발전했다.
각각의 서비스별로 요구사항에 맞는 최적의 성능으로 API를 제공할 수 있도록 분리하여 관리할 수 있다.

### 2.4 수평 확장(scale out)
- 특정 기능에 대한 요청 부하가 많아질 경우 각 서비스 별로 수평 확장을 통해 부하를 분산시킬 수 있음

### 2.5 마이크로서비스를 관리하는 기술들에 대한 학습이 필요하다.
마이크로 서비스의 형태로 서비스를 개발, 배포하는 만큼 이들을 관리하는 각각의 기술들에 대한
사용법을 익혀야한다.
- API 게이트웨이 : 서비스 요청에 대한 통일된 게이트 웨이
- 서비스 디스커버리 : 서비스들에 대한 등록/검색
- 로드 밸런서 : 서버에 가해지는 부하를 분산
- 서킷 브레이커 : 서비스에 문제가 생겼을 때 대처할 수 있는 방법 제공
- 이벤트 스트림 : 분리된 서비스들의 데이터 동기화
- 지속적 통합, 지속적 배포를 지원하는 CI/CD 툴
- 모니터링 툴
- ...

---
