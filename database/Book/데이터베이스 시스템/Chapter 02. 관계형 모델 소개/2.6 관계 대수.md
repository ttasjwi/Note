# <a href = "../README.md" target="_blank">데이터베이스 시스템</a>
## Chpater 02. 관계형 모델 소개
### 2.6 관계 대수
1) 관계 대수
2) 선택 연산(selection)
3) 추출 연산(projection)
4) 혼합 관계 연산
5) 카티션 곱 연산(Cartesian product)
6) 조인 연산(Join)
7) 집합 연산
8) 배정(할당) 연산(Assignment)
9) 재명명 연산(rename)
10) 동등 질의(equivalent query)
---

# 2.6 관계 대수

---

## 1) 관계 대수
- 한 개 혹은 두 개의 릴레이션을 입력으로 받고, 그 결과로 새로운 릴레이션을 생성하는 연산들
- SQL 질의어의 기초를 구성함
- 보통 데이터베이스 시스템은 사용자가 직접 관계 대수 형태로 질의를 작성하지 않는다.
- 단항 연산 : 한 개의 릴레이션에 대해 수행
  - 선택(selection), 추출(projection), 재명명(rename), ...
- 이항 연산 : 두 개의 릴레이션을 대상으로 연산 수행
  - 카티션 곱(Cartesian produect), 차집합(Set difference), ...
- 아래에서 대표적인 관계 대수 연산을 다룰 것이고, 이 외에도 여러가지 관계 대수 연산이 존재한다.

---

## 2) 선택 연산(selection)
- 선택 술어(Predicate)를 만족하는 튜플을 선택
- 선택 술어에서 사용하는 기호
  - 비교 연산 : '=', '>', '>=', '!=', '<', '<='
  - 연결 기호 : and(∧), or(∨), not(￢)

---

## 3) 추출 연산(projection)
- 릴레이션의 어떤 속성을 삭제한 후, 나머지 모두를 결과 릴레이션으로 돌려주는 단항 연산
- 릴레이션은 '집합'이므로 추출 연산 결과, 어떠한 중복도 제거된다.
- 추출 연산자에서, 추출 대상으로는 속성과 관련된 표현만 가능하다.
  - 예) id, name, salary/12, ...

---

## 4) 혼합 관계 연산
- 관계 대수 연산의 결과는 릴레이션 자체이므로, 그 결과를 다시 다른 관계 대수 연산의 입력으로 전달할 수 있다.
  - 즉, 관계 대수 연산은 관계 대수식으로 구성될 수 있다.
- 예) '물리학과에 속한 모든 교수의 이름을 찾아라'
  1. 물리학과에 속한 모든 교수를 찾아라
  2. 1의 결과 릴레이션에서 '이름' 속성만을 속성으로 갖는 릴레이션을 추출하라.

---

## 5) 카티션 곱 연산(Cartesian product)
- 릴레이션의 결합된 정보를 얻음
- 두 릴레이션의 모든 가능한 튜플의 쌍을 연결하여 만들어진 새로운 튜플로 결과 릴레이션을 구성
- 예를 들어 릴레이션1에 튜플이 n1개, 릴레이션2에 튜플이 n2개 있으면 카티션 곱 연산의 결과로 n1 * n2개의 튜플이 존재함.
- 카티션 곱은 두 개의 릴레이션으로부터 정보를 가져오지만, 서로 연관이 없는 튜플들을 엮어버림.

---

## 6) 조인 연산(Join)
- 카티션 곱 연산에서 연관 있는 튜플만 추출
- 예를 들어, 교수 릴레이션과 강의 릴레이션을 조인한 릴레이션은, 교수 릴레이션과 강의 릴레이션의 카테션 곱 중에서, 교수 id가 일치하는 튜플들만
추출한 것과 같다.

---

## 7) 집합 연산
- 호환 가능한 릴레이션
  - 릴레이션 r과 릴레이션 s는 같은 수의 속성을 가져야 한다.(참고로 릴레이션의 속성의 갯수를 인수라고 한다.)
  - 릴레이션 r의 i번째 속성과 릴레이션 s의 i번째 속성의 도메인은 서로 같아야 한다.
- 호환 가능한 두 릴레이션에 대해서, 다음과 같은 연산들이 가능하다.
  - 합집합(union)
  - 교집합(intersection)
  - 차집합(set-differecnce)

---

## 8) 배정(할당) 연산(Assignment)
- 일시적인 릴레이션 변수에 배정(할당)할 수 있음
- 할당의 결과는 릴레이션의 어떤 결과에도 영향을 미치지 않는다.
- 릴레이션 변수에 저장하여, 이후 이어지는 표현식에 사용할 수 있다.
- 복잡한 질의를 표현하는데 매우 편리한 방법

---

## 9) 재명명 연산(rename)
- 관계 대수식의 결과 또는 릴레이션 그 자체에 재명명 연산을 적용하여, 새로운 이름으로 참조할 수 있게 함
- 릴레이션을 구성하는 속성들도 재명명을 할 수 있다.
- 이를 이용하여 동일한 릴레이션이 동일한 릴레이션 질의에서 한 번 이상 사용될 수 있다. 즉 재명명 연산을 사용하여 같은 릴레이션을
여러번 참조해야하는 상황일 때, 다른 이름으로 참조하는 것을 가능하게 할 수 있다.

---

## 10) 동등 질의(equivalent query)
- 동등한 결과를 얻어내는 질의를 관계 대수로 표현할 때는 한 가지 이상의 방법이 있을 수 있다. 
- 다르게 표현된 질의라 할 지라도, 이 질의들은 동일하지 않지만 결과적으로 동등할 수 있다.
- 데이터베이스 시스템의 질의 최적화는 질의에 명시된 정확한 순서를 따르지 않고, 어떤 표현식이 어떤 결과를 출력할 것인지, 그리고 그 결과를
효율적으로 계산하는 방법을 찾는다. (이를 이용해 효율적이면서 동등한 또 다른 표현식을 찾을 수 있다.)
  
---
