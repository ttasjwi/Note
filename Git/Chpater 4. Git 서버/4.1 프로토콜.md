# <a href = "../../README.md" target="_blank">Git</a>
## <a href = "README.md" target="_blank">Chpater 4. Git 서버</a>
### 4.1 프로토콜
1) 로컬 프로토콜
2) HTTP 프로토콜
3) SSH 프로토콜
4) Git 프로토콜

---

# 4.1 프로토콜

Git에서 사용 가능한 프로토콜
- Local
- HTTP
- SSH
- Git


## 1) 로컬 프로토콜
1. 로컬 프로토콜의 특징
   - 리모트 저장소가 디스크의 다른 디렉토리에 위치할 때 사용
   - 팀원들이 한 시스템에 로그인하여 개발하거나, NFS와 같은 파일 시스템을 공유하고 있을 때 사용
   - url 자리에 저장소의 경로를 사용
     예시>
    

2. `file://`로 시작할 때 
   - 네트워크를 통해서 전송할 때처럼 프로세스를 별도로 생성하여 처리
   - 효율이 떨어지지만, 외부 Refs, 개체들이 포함된 저장소의 복사본을 깨끗한 상태로 남겨두기 위함 ?
   - 보통은 다른 버전 관리 시스템들에서 import 한 뒤 사용

    ```
    git clone /opt/git/project.git
    git clone file:///opt/git/project.git
    gir remote add [리모트저장소명] /opt/git/project.git
    ```

3. 로컬 프로토콜의 장점
   - 간단함
   - 다른 동료가 작업하는 저장소에서 한 일을 바로 가져오기 용이함.

4. 로컬 프로토콜의 단점
   - 데이터에 우발적인 사고가 발생하지 않도록 보호해주지 않음.
   - 모든 사용자가 Shell에서 리모트 디렉토리에 무슨 짓이든 할 수 있음. 보안에 매우 취약함.

---

## 2) HTTP 프로토콜
1. HTTP 프로토콜의 특징

2. 스마트 HTTP 프로토콜
   - 사용자 이름, 비밀번호 방식을 통해 인증
   - `git://` 프로토콜 처럼 익명으로 사용할 수 있음.
   - SSH처럼 인증을 거쳐 Push할 수 있음
   - 인증, push의 작업을 다른 url로 나눌 필요 없이, 하나의 url로 통합해서 사용
   - fetch, pull과 같은 읽기 작업에 대해서도 같은 url을 사용
     - 예> github는 clone 및 push를 같은 url을 사용


3. Stupid HTTP


4. 스마트 HTTP 프로토콜의 장점
   - 읽기, 쓰기에 하나의 url 사용
   - 아이디/비밀번호 방식의 간단한 인증방식 (SSH에 비해 매우 간단함.)
   - SSH만큼 빠르고 효율적
   - http 대신 https를 통해 전송 데이터를 암호화 및, 클라이언트측에 서명된 ssl 인증서 요구 가능
   - 보편적 프로토콜이기 때문에 거의 모든 회사 방화벽에서 통과하도록 되어있음.


5. 스마트 HTTP 프로토콜의 단점
   - SSH로 설정하는 것보다 까다로운 서버가 있는 단점.
   - Push할 때 http 인증을 하면 SSH 인증키를 사용하는 것보다 더 복잡하다. (인증 캐싱 툴을 사용하면 더 낫긴 함.)

---

## 3) SSH 프로토콜

1. SSH 프로토콜의 특징

2. SSH 프로토콜의 장점
   - 상대적으로 설정하기 쉽다.
   - SSH를 통해 접근하면 보안에 안전
   - 모든 데이터가 암호화되어 인증된 상태로 전송
   - 전송 시 데이터를 가능한 압축하기 때문에 효율적

3. SSH 프로토콜의 단점
   - 익명으로 시스템에 접근할 수 없다. 

---

## 4) Git 프로토콜

1. Git 프로토콜의 특징
   - Git에 포함된 데몬을 사용. (9418 포트)
   - 인증 메커니즘이 없음.
   
2. Git 프로토콜의 장점
   - 전송속도가 가장 빠르다.

3. Git 프로토콜의 단점
   - **인증 메커니즘이 없다.**


---